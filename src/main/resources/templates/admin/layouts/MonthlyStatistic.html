<!doctype html>
<html class="no-js" lang="" xmlns:th="http://www.thymeleaf.org"
    th:replace="~{admin/main-layout.html :: layout (~{::title}, ~{::#layout})}">

<head>
    <title>Thống kê</title>

</head>

<body>
    <section id="layout" ng-controller="reportStaticController">
        <div class="wizard-area">
            <div class="container">
                <div class="row">
                    <div class="bar-chart-wp">
                        <canvas height="20vh" width="40vw" id="barStatic"></canvas>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="normal-table-list mg-t-30">
                            <div class="basic-tb-hd">
                                <h2>Thống kê doanh thu theo thời gian</h2>
                            </div>
                            <div class="row">
                                <!-- Sử dụng ng-change để gọi hàm searchData() khi ngày bắt đầu hoặc kết thúc thay đổi -->
                                <div class="col-lg-5">
                                    <div class="form-group">
                                        <label for="thoiGianBatDau">Thời gian bắt đầu:</label>
                                        <div class="input-group">
                                            <input type="date" ng-model="form.startDate" class="form-control"
                                                id="thoiGianBatDau" placeholder="Thời gian bắt đầu"
                                                ng-change="searchData()">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="form-group">
                                        <label for="thoiGianKetThuc">Thời gian kết thúc:</label>
                                        <div class="input-group">
                                            <input type="date" ng-model="form.endDate" class="form-control"
                                                id="thoiGianKetThuc" placeholder="Thời gian kết thúc"
                                                ng-change="searchData()">
                                        </div>
                                        <!-- Thông báo lỗi -->
                                        <small class="text-danger" ng-show="startDateError">
                                            Ngày kết thúc phải lớn hơn hoặc bằng ngày bắt đầu.
                                        </small>
                                    </div>
                                </div>                                
                            </div>
                            <div class="bsc-tbl-hvr">
                                <!-- <h2>Thống kê doanh thu</h2> -->
                                <table class="table table-striped  table-middle">
                                    <thead>
                                        <tr class="table-bordered custom-border tr-thead">
                                            <th class="text-center">#</th>
                                            <th>Ngày giao dịch</th>
                                            <th>Tổng số hóa đơn</th>
                                            <th>Tổng doanh thu</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in items">
                                            <td class="text-center">{{$index + 1}}</td>
                                            <td>{{item[2] + '-' + item[1] + '-' + item[0]}}</td>
                                            <td>{{item[3]}}</td>
                                            <td>{{item[4] | number:0}}</td>
                                        </tr>
                                        <tr>
                                            <td class="text-center"></td>
                                            <td><strong>Tổng: </strong></td>
                                            <td style="color:rgb(255, 0, 204);"><strong>{{ getTotalQuantity() | number:0
                                                    }}</strong></td>
                                            <td style="color: rgb(255, 0, 204);"><strong>{{ getTotalRevenue() | number:0
                                                    }}</strong></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

</body>

</html>